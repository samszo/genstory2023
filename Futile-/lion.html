<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Lion King</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>


<body>

    <h1>The Lion King</h1>

    <h2></h2>
    <img></img>
    <a href="./index.html"><button>Return to Main Menu</button></a>

    <script>
        let indices = [170, 172, 175];
        var event = 0;

        //var text = "o:title"
        function ShowAndHide() {

    
            document.getElementsByTagName("button")[1].innerHTML = 'Next';
    
            let text = 'https://www.rit.motsvoir.org/api/items/'.concat('175');
            d3.json(text).then(story => {
                console.log(story);
                //d3.select("h2").data(story["o:title"]).attr("src", a=>a.thumbnail_url);
                console.log(story["o:title"]);
                if(event<3){
                    document.getElementsByTagName("h2")[0].innerHTML = story["o:title"];
                    document.getElementsByTagName("img")[0].src = story["thumbnail_display_urls"]["large"];  
                }
                else{
                    document.getElementsByTagName("h2")[0].innerHTML = "The End";
                    document.getElementsByTagName("button")[1].disabled = true;
                }
            })
    
            //document.getElementsByTagName("h2")[0].innerHTML = story["genstory:hasEvenement"];
            event++;
            console.log(event);
        }
    
    </script>

    <button onClick="ShowAndHide()">Start Story</button>

</body>

</html>